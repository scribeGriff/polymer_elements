<!--
Copyright (c) 2013, scribeGriff (Richard Griffith)
https://github.com/scribeGriff/polymer_elements
All rights reserved.  Please see the LICENSE.md file.
-->
<!--
/**
 * This is a port to Dart of the Polymer.js element g-icon:
 * github.com/Polymer/toolkit-ui/blob/master/elements/g-icon-button.html
 */
/**
 * g-icon-button enables you to place an image centered in a button.
 *
 * Example:
 *
 *     <g-icon-button src="star.png"></g-icon-button>
 *
 * @class g-icon-button
 */
-->
<link rel="import" href="g-icon.html">
<polymer-element name="g-icon-button" attributes="src active">
  <template>
    <style>
      @host {
        * {
          display: inline-block;
          position: relative;
          box-sizing: border-box;
          -moz-box-sizing: border-box;
          width: 44px;
          height: 44px;
          line-height: 24px;
          padding: 10px;
          cursor: pointer;
          border: none;
          background-color: rgba(0, 0, 0, 0);
          background-position: top left;
          background-size: cover;
          background-repeat: no-repeat;
          background-image: url("images/btn_light.png");
          background-position: 0 0;
          vertical-align: middle;
        }

        *:hover {
          background-position: 0 -44px;
        }

        *.selected {
          background-position: 0 -88px;
        }

        *:active, *.selected:active {
          background-position: 0 -132px;
        }
      }
    </style>
    <g-icon src="{{src}}"></g-icon>
  </template>
  <script type="application/dart">
    import 'package:polymer/polymer.dart';

    @CustomTag('g-icon-button')
    // Should this use ChangeNotifierMixin?
    class GIconButton extends PolymerElement with ObservableMixin {
      @observable String src = '';
      @observable bool active = false;

      // Don't know if this actually works.
      void activeChanged(var e, var detail, var target) {
        this.xtag.classes.toggle('selected', active);
      }
    }
  </script>
</polymer-element>
